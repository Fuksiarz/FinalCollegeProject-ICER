create database sklep;

use sklep;

CREATE TABLE Users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL
);
INSERT INTO Users (username, password)
VALUES ('root', '$2b$12$8JnOBy0M5Edogzihz79MsOUzPQVLlWtYBnf3X9KQSaQx825MqFbsu');

-- tworzenie tabeli Produkty
CREATE TABLE Produkty (
  id INT PRIMARY KEY AUTO_INCREMENT,
  nazwa VARCHAR(100),
  cena DECIMAL(8,2),
  kalorie INT,
  tluszcze DECIMAL(4,2),
  weglowodany DECIMAL(4,2),
  bialko DECIMAL(4,2),
  kategoria VARCHAR(50)

);





CREATE TABLE Icer (
    id INT AUTO_INCREMENT PRIMARY KEY,
    UserID INT,
    produktID INT,
    ilosc INT,
    data_waznosci DATE,
    trzecia_wartosc TINYINT CHECK (trzecia_wartosc >= 1 AND trzecia_wartosc <= 3),
    FOREIGN KEY (UserID) REFERENCES Users (id),
    FOREIGN KEY (produktID) REFERENCES Produkty (id)
);


INSERT INTO Icer (UserID, produktID, ilosc)
VALUES
(1, 1, FLOOR(RAND() * 10) + 1),
(1, 2, FLOOR(RAND() * 10) + 1),
(1, 3, FLOOR(RAND() * 10) + 1),
(1, 4, FLOOR(RAND() * 10) + 1),
(1, 5, FLOOR(RAND() * 10) + 1),
(1, 6, FLOOR(RAND() * 10) + 1)
